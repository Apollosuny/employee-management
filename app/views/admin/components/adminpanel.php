<div class="bg-body-tertiary h-100 d-flex justify-content-center align-items-center" style="padding-top: 5rem; min-height: 100vh;">
    <div class="bg-body w-95 h-95 p-3">
        <div>
            <h3>Dashboard</h3>
        </div>
        <div class="row">
            <div class="col">
                <div class="card d-flex justify-content-between flex-row p-4">
                    <div class="">Good <?php echo $time ? $time : '' ?></div>
                    <div class="avatar">
                        <img src="https://images.pexels.com/photos/1192609/pexels-photo-1192609.jpeg?auto=compress&cs=tinysrgb&w=600"
                            alt="Avatar" />
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card d-flex justify-content-between flex-row p-4 card-hover">
                    <div class="">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 21V13M12 21L5.83752 16.5982C5.42695 16.305 5.22166 16.1583 5.11083 15.943C5 15.7276 5 15.4753 5 14.9708V8M12 21L18.1625 16.5982C18.573 16.305 18.7783 16.1583 18.8892 15.943C19 15.7276 19 15.4753 19 14.9708V8M12 13L5 8M12 13L19 8M5 8L10.8375 3.83034C11.3989 3.42938 11.6795 3.2289 12 3.2289C12.3205 3.2289 12.6011 3.42938 13.1625 3.83034L19 8"
                                stroke="#33363F" stroke-width="2" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="d-flex flex-column">
                        <h3 class="fw-semibold fs-3">112</h3>
                        <p class="fw-medium">Projects</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card d-flex justify-content-between flex-row p-4 card-hover">
                    <div class="">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="1" fill="#33363F" />
                            <path
                                d="M15 12C15 14.6668 14.5658 17.035 13.9 18.6997C13.5659 19.5348 13.1932 20.1435 12.8304 20.527C12.4697 20.9085 12.1887 21 12 21C11.8113 21 11.5303 20.9085 11.1696 20.527C10.8068 20.1435 10.4341 19.5348 10.1 18.6997C9.43419 17.035 9 14.6668 9 12C9 9.33323 9.43419 6.96497 10.1 5.30032C10.4341 4.46523 10.8068 3.85653 11.1696 3.47296C11.5303 3.0915 11.8113 3 12 3C12.1887 3 12.4697 3.0915 12.8304 3.47296C13.1932 3.85653 13.5659 4.46523 13.9 5.30032C14.5658 6.96497 15 9.33323 15 12Z"
                                stroke="#33363F" stroke-width="2" />
                            <path
                                d="M13.4999 14.5983C11.1904 15.9317 8.92234 16.7398 7.14779 16.9955C6.25755 17.1237 5.54403 17.1053 5.03048 16.9829C4.51975 16.8612 4.30003 16.6637 4.20567 16.5002C4.11131 16.3368 4.05008 16.0477 4.20005 15.5446C4.35086 15.0387 4.69164 14.4115 5.24784 13.7047C6.35653 12.2957 8.19041 10.7355 10.4999 9.40216C12.8094 8.06877 15.0775 7.26066 16.852 7.00499C17.7423 6.87673 18.4558 6.89518 18.9693 7.01754C19.4801 7.13923 19.6998 7.3368 19.7941 7.50023C19.8885 7.66367 19.9497 7.95274 19.7998 8.45588C19.6489 8.96181 19.3082 9.58897 18.752 10.2958C17.6433 11.7048 15.8094 13.2649 13.4999 14.5983Z"
                                stroke="#33363F" stroke-width="2" />
                            <path
                                d="M13.4999 9.40169C11.1904 8.0683 8.92234 7.26019 7.14779 7.00452C6.25755 6.87626 5.54403 6.89472 5.03048 7.01708C4.51975 7.13876 4.30003 7.33633 4.20567 7.49977C4.11131 7.6632 4.05008 7.95227 4.20005 8.45541C4.35086 8.96134 4.69164 9.5885 5.24784 10.2953C6.35653 11.7043 8.19041 13.2645 10.4999 14.5978C12.8094 15.9312 15.0775 16.7393 16.852 16.995C17.7423 17.1233 18.4558 17.1048 18.9693 16.9825C19.4801 16.8608 19.6998 16.6632 19.7941 16.4998C19.8885 16.3363 19.9497 16.0473 19.7998 15.5441C19.6489 15.0382 19.3082 14.411 18.752 13.7042C17.6433 12.2952 15.8094 10.7351 13.4999 9.40169Z"
                                stroke="#33363F" stroke-width="2" />
                        </svg>
                    </div>
                    <div class="d-flex flex-column">
                        <h3 class="fw-semibold fs-3">112</h3>
                        <p class="fw-medium">Tasks</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card d-flex justify-content-between flex-row p-4 card-hover">
                    <div class="">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="8" r="3" stroke="#33363F" stroke-width="2" stroke-linecap="round" />
                            <path
                                d="M15.2679 8C15.5332 7.54063 15.97 7.20543 16.4824 7.06815C16.9947 6.93086 17.5406 7.00273 18 7.26795C18.4594 7.53317 18.7946 7.97 18.9319 8.48236C19.0691 8.99472 18.9973 9.54063 18.7321 10C18.4668 10.4594 18.03 10.7946 17.5176 10.9319C17.0053 11.0691 16.4594 10.9973 16 10.7321C15.5406 10.4668 15.2054 10.03 15.0681 9.51764C14.9309 9.00528 15.0027 8.45937 15.2679 8L15.2679 8Z"
                                stroke="#33363F" stroke-width="2" />
                            <path
                                d="M5.26795 8C5.53317 7.54063 5.97 7.20543 6.48236 7.06815C6.99472 6.93086 7.54063 7.00273 8 7.26795C8.45937 7.53317 8.79457 7.97 8.93185 8.48236C9.06914 8.99472 8.99727 9.54063 8.73205 10C8.46683 10.4594 8.03 10.7946 7.51764 10.9319C7.00528 11.0691 6.45937 10.9973 6 10.7321C5.54063 10.4668 5.20543 10.03 5.06815 9.51764C4.93086 9.00528 5.00273 8.45937 5.26795 8L5.26795 8Z"
                                stroke="#33363F" stroke-width="2" />
                            <path
                                d="M16.8816 18L15.9012 18.1974L16.0629 19H16.8816V18ZM20.7201 16.9042L21.6626 16.5699L20.7201 16.9042ZM14.7808 14.7105L14.1759 13.9142L13.0193 14.7927L14.2526 15.5597L14.7808 14.7105ZM19.8672 17H16.8816V19H19.8672V17ZM19.7777 17.2384C19.7706 17.2186 19.7641 17.181 19.7725 17.1354C19.7803 17.0921 19.7982 17.0593 19.8151 17.0383C19.8473 16.9982 19.8739 17 19.8672 17V19C21.0132 19 22.1413 17.9194 21.6626 16.5699L19.7777 17.2384ZM17 15C18.6415 15 19.4026 16.1811 19.7777 17.2384L21.6626 16.5699C21.1976 15.2588 19.9485 13 17 13V15ZM15.3856 15.5069C15.7701 15.2148 16.2819 15 17 15V13C15.8381 13 14.9027 13.3622 14.1759 13.9142L15.3856 15.5069ZM14.2526 15.5597C15.2918 16.206 15.727 17.3324 15.9012 18.1974L17.8619 17.8026C17.6439 16.7204 17.0374 14.9364 15.3089 13.8614L14.2526 15.5597Z"
                                fill="#33363F" />
                            <path
                                d="M9.21924 14.7105L9.74736 15.5597L10.9807 14.7927L9.82409 13.9142L9.21924 14.7105ZM3.27986 16.9041L4.22233 17.2384L4.22233 17.2384L3.27986 16.9041ZM7.11841 18V19H7.93709L8.09873 18.1974L7.11841 18ZM7.00008 15C7.71809 15 8.22992 15.2148 8.61439 15.5069L9.82409 13.9142C9.09729 13.3621 8.16196 13 7.00008 13V15ZM4.22233 17.2384C4.59738 16.1811 5.35849 15 7.00008 15V13C4.05157 13 2.80244 15.2587 2.33739 16.5699L4.22233 17.2384ZM4.13284 17C4.12606 17 4.1527 16.9982 4.18492 17.0383C4.20182 17.0593 4.21967 17.0921 4.22754 17.1354C4.23586 17.181 4.22937 17.2186 4.22233 17.2384L2.33739 16.5699C1.8587 17.9194 2.98683 19 4.13284 19V17ZM7.11841 17H4.13284V19H7.11841V17ZM8.09873 18.1974C8.27295 17.3324 8.7082 16.206 9.74736 15.5597L8.69112 13.8614C6.96263 14.9363 6.35606 16.7203 6.1381 17.8026L8.09873 18.1974Z"
                                fill="#33363F" />
                            <path
                                d="M12 14C15.5715 14 16.5919 16.5512 16.8834 18.0089C16.9917 18.5504 16.5523 19 16 19H8C7.44772 19 7.00829 18.5504 7.11659 18.0089C7.4081 16.5512 8.42846 14 12 14Z"
                                stroke="#33363F" stroke-width="2" stroke-linecap="round" />
                        </svg>
                    </div>
                    <div class="d-flex flex-column">
                        <h3 class="fw-semibold fs-3"><?php echo count($users);  ?></h3>
                        <p class="fw-medium">Staffs</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col">
                <div id="revenue"></div>
            </div>
            <div class="col">
                <div id="sales"></div>
            </div>
        </div>
        <div class="row mt-5 px-3">
            <div class="">
                <h3>Attendances</h3>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Date</th>
                        <th scope="col">Clock In At</th>
                        <th scope="col">Clock Out At</th>
                        <th scope="col">Work Type</th>
                    </tr>
                </thead>
                <tbody>
                    <?php if (count($attendances) > 0) {
                        foreach ($attendances as $attendance):
                            ?>
                            <tr>
                                <td><?php echo $attendance['id']; ?></td>
                                <td><?php echo $attendance['baseDate']; ?></td>
                                <td><?php echo $attendance['clockInAt']; ?></td>
                                <td><?php echo $attendance['clockOutAt'] ? $attendance['clockOutAt'] : '--'; ?></td>
                                <td><?php echo $attendance['workType']; ?></td>
                            </tr>
                        <?php endforeach;
                    } else {
                        ?>
                        <tr>
                            <td colspan="8" class="text-center">No data</td>
                        </tr>
                    <?php } ?>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    // Revenue chart
    var optionRevenues = {
        series: [{
            name: 'Inflation',
            data: [2.3, 3.1, 4.0, 10.1, 4.0, 3.6, 3.2, 2.3, 1.4, 0.8, 0.5, 0.2]
        }],
        chart: {
            height: 350,
            type: 'bar',
        },
        plotOptions: {
            bar: {
                borderRadius: 10,
                dataLabels: {
                    position: 'top', // top, center, bottom
                },
            }
        },
        dataLabels: {
            enabled: true,
            formatter: function (val) {
                return val + "%";
            },
            offsetY: -20,
            style: {
                fontSize: '12px',
                colors: ["#304758"]
            }
        },

        xaxis: {
            categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            position: 'bottom',
            axisBorder: {
                show: false
            },
            axisTicks: {
                show: false
            },
            crosshairs: {
                fill: {
                    type: 'gradient',
                    gradient: {
                        colorFrom: '#D8E3F0',
                        colorTo: '#BED1E6',
                        stops: [0, 100],
                        opacityFrom: 0.4,
                        opacityTo: 0.5,
                    }
                }
            },
            tooltip: {
                enabled: true,
            }
        },
        yaxis: {
            axisBorder: {
                show: false
            },
            axisTicks: {
                show: false,
            },
            labels: {
                show: false,
                formatter: function (val) {
                    return val + "%";
                }
            }

        },
        title: {
            text: 'Revenue',
            floating: true,
            align: 'center',
            style: {
                color: '#444'
            }
        }
    };

    var chart1 = new ApexCharts(document.querySelector("#revenue"), optionRevenues);
    chart1.render();

    var options = {
        series: [{
            name: "Desktops",
            data: [10, 41, 35, 51, 49, 62, 69, 91, 148]
        }],
        chart: {
            height: 350,
            type: 'line',
            zoom: {
                enabled: false
            }
        },
        dataLabels: {
            enabled: false
        },
        stroke: {
            curve: 'straight'
        },
        title: {
            text: 'Sales overview',
            align: 'left'
        },
        grid: {
            row: {
                colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns
                opacity: 0.5
            },
        },
        xaxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
        }
    };

    var chart = new ApexCharts(document.querySelector("#sales"), options);
    chart.render();
</script>